/'v2 Схема'/
@startuml "ЦТС.А3.2 Добавление товара в Каталог"
/'Название файла будет: ЦТС.<Номер схемы БП>.<Номер этапа>.<Название этапа в схеме БП>'/
title "ЦТС.А3.2. Добавление товара в Каталог"
actor "Участник Торгов" as User
boundary "Карточка товара" as Commodities
database "База данных" as Database
collections "А3.1.4 Каталог Наименований товаров" as CommoditiesNames

autonumber
activate User
User -> Commodities: Ввести данные Наименование товара
note right
    manual:  Классификатор товара, Вид товара, Лот, Размер лота, Регион поставки, Базис поставки, Завод-производитель, Упаковка, Описание товара
    Перечень берживых товаров (табличная часть);
    auto: Проверка введённого наименования на наличие в Каталоге, Мнемоника, Краткое наименование товара, Статус, Дата создания, Автор.
end note
deactivate User

Commodities --> Database: Запрос в БД 
Database --> CommoditiesNames: Отсутствует наименование в каталоге товаров, переход к А3.1.4
    activate Database
    /'Проверка корректно заполненных данных Каталог наименования товара->Участник Торгов'/
    Database -> Commodities: Проверка корректно заполненных данных
    deactivate Database
    Commodities --> User: Ошибка! Неправильные введены данные! Не заполнены обязательные поля
    activate User
    /'Ошибка и т.д в Каталог наименования товара->Участник Торгов'/
    User-->Commodities: Корректировка ранее введенных данных, нажатие кнопки "Сохранить"
    deactivate User
    Commodities --> Database: Сохранение добавленного товара в спецификации
    
@enduml